{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "LambdaAndCloudFormation",
            "Effect": "Allow",
            "Action": [
                "lambda:*",
                "cloudformation:*",
                "iam:PassRole",
                "logs:*"
            ],
            "Resource": "*"
        },
        {
            "Sid": "PassLambdaExecutionRole",
            "Effect": "Allow",
            "Action": "iam:PassRole",
            "Resource": "arn:aws:iam::034362065521:role/social-fastapi-lambda-role"
        },
        {
            "Sid": "S3ForBuildArtifacts",
            "Effect": "Allow",
            "Action": [
                "s3:PutObject",
                "s3:GetObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::social-backend-deploy",
                "arn:aws:s3:::social-backend-deploy/*"
            ]
        },
        {
            "Sid": "SSMParameterAccess",
            "Effect": "Allow",
            "Action": [
                "ssm:GetParameter",
                "ssm:GetParameters",
                "ssm:GetParametersByPath"
            ],
            "Resource": "arn:aws:ssm:us-east-1:034362065521:parameter/socialapp/*"
        },
        {
            "Sid": "APIGatewayPermissions",
            "Effect": "Allow",
            "Action": [
                "apigateway:GET",
                "apigateway:POST",
                "apigateway:PUT",
                "apigateway:PATCH",
                "apigateway:DELETE",
                "apigateway:UpdateRestApiPolicy"
            ],
            "Resource": "*"
        },
        {
            "Sid": "EC2VPCPermissions",
            "Effect": "Allow",
            "Action": [
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSubnets",
                "ec2:DescribeVpcs",
                "ec2:DescribeNetworkInterfaces",
                "ec2:CreateNetworkInterface",
                "ec2:DeleteNetworkInterface",
                "ec2:AttachNetworkInterface",
                "ec2:DetachNetworkInterface",
                "ec2:AssignPrivateIpAddresses",
                "ec2:UnassignPrivateIpAddresses"
            ],
            "Resource": "*"
        }
    ]
}

